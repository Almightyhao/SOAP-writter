# 🧠 智慧藥師 SOAP 筆記產生器 (v16.0)
AI 依據最新臨床指引與即時計算，自動生成 SOAP 草稿

---

## ✅ 核心 AI 分析功能

| 功能 | 說明 |
|------|------|
| 📚 智慧指引查核 | Gemini 會自動分析病歷並使用 Google 搜尋查詢最新臨床指引年份（如 GINA、GOLD、AHA 等） |
| 🧾 強制精準引用 | 必須在 Assessment 明確標示**指引名稱＋實際年份**，並引用指引原文句子支持建議 |
| 💊 DDI 與重複用藥分析 | 自動解析用藥清單，找出交互作用與重複用藥並提供建議 |
| 🧮 計算結果整合 | **(v16.0 新增)** AI 會自動將您在計算機算出的 CrCl、CHA₂DS₂-VASc 等結果整合進 (O) 與 (A) |

---

## 🧮 整合式臨床計算機 (v16.0)
仿造臨床 App 介面，直接輸入參數即可即時計算，並自動帶入 AI 評估。

| 計算機 | 功能 |
|---|---|
| 🧪 **CrCl & IBW/ABW** | 輸入 Age, Sex, Weight, Height, SCr 即可計算 Cockcroft-Gault CrCl 與體重評估 (IBW/ABW) |
| ❤️ **CHA₂DS₂-VASc Score** | 點選病史（如 CHF, HT, DM...）即可計算中風風險分數 |
| 🔄 **智慧型備援** | **(選填)** 如果不使用計算機，AI 會自動從「病患核心資料」中抓取 Lab 資訊進行評估 |

---

## 🧩 資料輸入功能

| 功能 | 說明 |
|------|------|
| 🏥 病患核心資料 | 必填欄位，貼上病史、Lab、用藥、生命徵象等 |
| 👨‍⚕️ 專科焦點 | 選填下拉選單（如心臟內科、胸腔內科），讓 AI 評估更精準 |
| 📚 專業資料庫整合 | 可分別貼入 UpToDate / Micromedex / OpenEvidence 重點並整合進評估內容 |

---

## 🖥 介面（UI / UX）與易用性

| 功能 | 說明 |
|------|------|
| ⚖️ **使用條款同意** | **(v15.5 新增)** 必須勾選同意「使用條款與隱私聲明」後，才能啟動 AI 分析 |
| 🔑 API 金鑰設定 | 金鑰只需設定一次，安全儲存於 localStorage |
| 🔍 AI 知識庫查詢 | 可即時查詢主要指引最新年份（GINA / GOLD / AHA 等） |
| 📋 一鍵複製 | 產生後可直接複製 SOAP 純文字 |
| 🧼 一鍵清除 | 清除所有欄位，**包含計算機**，快速切換不同病患 |

---

## 🚀 快速開始

### 1️⃣ 取得 Google Gemini API 金鑰

| 步驟 | 操作 |
|------|------|
| 1 | 前往 https://aistudio.google.com/ |
| 2 | 左側選單 → **Get API Key** |
| 3 | **Create API key in new project** |
| 4 | 複製金鑰（開頭為 **AIza...**） |

---

### 2️⃣ 產生 SOAP 筆記

1️⃣ 貼上 API 金鑰 → 儲存
2️⃣ **(選填)** 展開計算機，輸入參數並計算 CrCl / CHA₂DS₂-VASc
3️⃣ 輸入病患核心資料與用藥
4️⃣ **(必填)** 勾選同意「使用條款與隱私聲明」
5️⃣ 按下「啟動 AI 分析」 ✅
→ AI 即時查核指引，並整合**計算結果**與藥物建議

---

## 🔐 資安與隱私原則

- **本地端處理：** 這是一個純前端 HTML 檔案，所有資料（病歷、API Key）都在您的瀏覽器本地端 (localStorage) 處理，**不會**上傳到任何非 Google 的伺服器。
- **使用者責任：** 使用者**必須**在輸入前，自主完成病患資料的「去識別化」(移除姓名、病歷號等)。
- **法律聲明：** (v15.5 新增) 啟動分析前必須勾選同意「使用條款與隱私聲明」，確認已了解去識別化責任。
- **API 安全：** API 金鑰儲存在 localStorage，使用者全權自主管理。

---

## ⚕️ 重要聲明

本工具為**臨床決策輔助工具**
所有輸出內容須由合格醫療專業人員審核後採用
